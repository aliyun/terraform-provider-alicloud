---
subcategory: "EDAS"
layout: "alicloud"
page_title: "Alicloud: alicloud_edas_k8s_slb_attachment"
sidebar_current: "docs-alicloud-resource-edas-k8s-slb-attachment"
description: |-
  Binds SLBs to an EDAS k8s application.
---

# alicloud\_edas\_k8s\_slb\_attachment

Binds SLBs to an EDAS k8s application.

For information about EDAS k8s slb attachment and how to use it, see [What is k8s slb attachment](https://www.alibabacloud.com/help/en/enterprise-distributed-application-service/latest/bindk8sslb).

-> **NOTE:** Available in v1.194.0+.

## Example Usage

Basic Usage

```terraform
resource "alicloud_edas_k8s_slb_attachment" "example" {
  app_id = "your_app_id"
  slb_configs {
    type          = "internet"
    scheduler     = "rr"
    specification = "slb.s1.small"
    slb_id        = "your slb instance id"
    port_mappings {
      cert_id               = "your tls cert id"
      loadbalancer_protocol = "TCP"
      service_port {
        port        = 80
        protocol    = "TCP"
        target_port = 8080
      }
    }
  }

  slb_configs {
    // second configurations
    // ...
  }
}
```

## Argument Reference

The following arguments are supported:
* `app_id` - (Required, ForceNew) The ID of the EDAS k8s application to which you want to bind SLB instances.
* `slb_configs` - (Optional, Computed) The configurations of SLB attachment, which is supported for multiple configurations.
  * `type` - (Required) The type of SLB instance, values can be 'internet' or 'intranet'.
  * `name` - (Optional, Computed) The name of this SLB configuration, empty for auto-generated by EDAS server.
  * `scheduler` - (Required) The scheduler policy of SLB configuration, values can be 'rr'(round-robin) or 'wrr'(weighted round-robin).
  * `specification` - (Optional, Computed) The instance specification of SLB, values can be found [here](https://www.alibabacloud.com/help/en/server-load-balancer/latest/createloadbalancer-2#t4182.html), empty for 'slb.s1.small'.
  * `slb_id` - (Optional, Computed) The ID of your SLB instance, if value is empty which means EDAS will purchase an SLB instance with 'specification' field.
  * `port_mappings` - (Required) The port configuration for SLB instance, which is supported for multiple configurations.
    * `cert_id` - (Optional) The ID of your tls certification, this is used for 'HTTPS' protocol only.
    * `loadbalancer_protocol` - (Required) The protocol of SLB instance configuration, values can be 'TCP', 'HTTP' or 'HTTPS'.
    * `service_port` - (Required) The backend k8s service configuration for SLB instance, which is supported for multiple configurations.
      * `port` - (Required) The port of k8s service, values should be within range [1, 65535].
      * `protocol` - (Required) The protocol of k8s service, values can be 'TCP' or 'UDP'.
      * `target_port` - (Required) The port of k8s pod, values should be within range [1, 65535].

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of an EDAS k8s application, which is in the format of UUID.

### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 30 mins) Used when bind the slb to the EDAS k8s application.
* `delete` - (Defaults to 30 mins) Used when unbind the slb to the EDAS k8s application.
* `update` - (Defaults to 30 mins) Used when update the slb to the EDAS k8s application.

## Import

Slb information of EDAS k8s application can be imported using the ID of an EDAS k8s application. e.g.

```shell
$ terraform import alicloud_edas_k8s_slb_attachment.example <EDAS k8s app id>
```